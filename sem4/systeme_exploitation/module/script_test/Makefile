CC=gcc
CFLAGS=-std=gnu11 -Wall -Wextra 
SFLAGS=-fsanitize=address -fsanitize=leak -fsanitize=undefined

TARGETS=read_50.out write_50.out fd_dup.out
OBJECTS=read_50.o write_50.o fd_dup.o

all: write_50.out read_50.out fd_dup.out

write_50.out: write_50.o
	$(CC) $(CFLAGS) $(SFLAGS) $^ -o $@

read_50.out: read_50.o
	$(CC) $(CFLAGS) $(SFLAGS) $^ -o $@

fd_dup.out: fd_dup.o
	$(CC) $(CFLAGS) $(SFLAGS) $^ -o $@

%.o: %.c
	$(CC) $(CFLAGS) $(SFLAGS) -c $<

clean:
	@rm -f $(TARGETS) $(OBJECTS)

.PHONY=clean